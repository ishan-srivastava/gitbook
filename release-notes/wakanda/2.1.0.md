# 2.1.0

### Summary

* ShuriConditionalAction and ShuriApiCallAction added to IEventAction
* CustomPayloadAPI added as new implementation of API interface to help create Shuri Api
* Add OnChangeTrigger as IEventTrigger
* \`triggerActionMap\` field now available in DropdownComponent, NumberInputComponent, RadioInputComponent, SelectComponent, SliderInputComponent, SwitchInputComponent and TextInputComponent
* A new version for FormComponent

### ShuriConditionalAction

```json
{
    "iActionName": "SHURI_CONDITIONAL_ACTION",
    "dependentCondition": {
        "iConditionType": "compositeCondition",
        "operator": AND,
        "left": {
            "iConditionType": "leafCondition",
            "referencePath": "1001.key1",
            "condition": {
                "type": "valueEqualTo",
                "value": "valueOfKey"
            }
        },
        "right": {
            "iConditionType": "leafCondition",
            "referencePath": "_response.key1.key2",
            "condition": {
                "type": "lengthLessThan",
                "value": 8
            }
        }
    },
    "actions": [
        {
            "iActionName": "SHURI_COMMUNICATION_ACTION",
            "applicableCommunicationSetNames": [
                "changeSet"
            ]
        }
    ]
}
```

#### condition.type functions

```java
/*
 * Copyright Â© 2021 by Navi Technologies Private Limited
 * All rights reserved. Strictly confidential
 *
 */

package com.navi.medici.common.component.conditionals;

/**
 * @author Utsav Bansal
 */
public class ConditionDescriptionTypes {

    private ConditionDescriptionTypes() {
    }

    public static final String VALUE_EQUAL_TO = "valueEqualTo";

    /**
     * String type condition functions
     */
    public static final String LENGTH_MORE_THAN = "lengthMoreThan";
    public static final String LENGTH_MORE_THAN_OR_EQUAL_TO = "lengthMoreThanOrEqualTo";
    public static final String LENGTH_LESS_THAN = "lengthLessThan";
    public static final String LENGTH_MESS_THAN_OR_EQUAL_TO = "lengthLessThanOrEqualTo";

    /**
     * Number type condition functions
     */
    public static final String VALUE_MORE_THAN = "valueMoreThan";
    public static final String VALUE_LESS_THAN = "valueLessThan";
    public static final String VALUE_LESS_THAN_OR_EQUAL_TO = "valueLessThanOrEqualTo";
    public static final String VALUE_MORE_THAN_OR_EQUAL_TO = "valueMoreThanOrEqualTo";

    /**
     * Date type condition functions
     */
    public static final String IS_DATE_BEFORE = "dateBefore";
    public static final String IS_DATE_AFTER = "dateAfter";
    public static final String IS_DAY = "isDay";
    public static final String IS_MONTH = "isMonth";
    public static final String IS_YEAR = "isYear";

}

```

### ShuriCallApiAction

```json
{
    "iActionName": "SHURI_CALL_API_ACTION",
    "apiToCall": {
        "apiVersion": "customPayloadAPI",
        "method": "GET",
        "uri": "/my-api/{pathVar1}/call-for-info",
        "pathVariableMapping": [
            {
                "mappingType": "REFERENTIAL",
                "keyName": "pathVar1",
                "staticValue": null,
                "referencePath": "10002.data.model.customerReferenceId"
            }
        ],
        "queryParamsMapping": [
            {
                "mappingType": "DIRECT",
                "keyName": "pageNo",
                "staticValue": 0,
                "referencePath": null
            },
            {
                "mappingType": "DIRECT",
                "keyName": "pageSize",
                "staticValue": 10,
                "referencePath": null
            }
        ],
        "requestPayloadMapping": [
            {
                "mappingType": "DIRECT",
                "keyName": "payloadKey1",
                "staticValue": "payloadValue1",
                "referencePath": null
            }
        ]
    },
    "responseActions": [
        {
            "responseCodes": [
                "2xx"
            ],
            "applicableActions": [
                {
                    "iActionName": "SHURI_COMMUNICATION_ACTION",
                    "applicableCommunicationSetNames": [
                        "applyThisProtocol"
                    ]
                }
            ]
        }
    ]
}
```

### OnChangeTrigger

```json
{"iTriggerName":"onChange"}
```

### FormComponentV2

```json
{
    "iComponentType": "formComponentV2",
    "name": "genericFormNewVersion",
    "title": "Form Title",
    "schema": {
        "name": {
            "iComponentType": "textInputComponent",
            "name": "name",
            "label": "Enter Name",
            "value": null,
            "disabled": false,
            "readOnly": false,
            "warningFlag": false,
            "warningText": null,
            "validationType": null,
            "validationRules": [],
            "customStyles": {},
            "inputAdornment": null,
            "variant": null,
            "inputSize": null,
            "triggerActionsMap": []
        },
        "age": {
            "iComponentType": "numberInputComponent",
            "name": "age",
            "label": "Enter Age",
            "value": null,
            "disabled": false,
            "readOnly": false,
            "warningFlag": false,
            "warningText": null,
            "validationType": null,
            "validationRules": [],
            "customStyles": {},
            "inputAdornment": null,
            "variant": null,
            "inputSize": null,
            "triggerActionsMap": []
        }
    },
    "schemaOrder": [
        "name",
        "age"
    ],
    "customStyles": {},
    "data": {
        "iComponentData": "formData",
        "model": {
            "age": 25,
            "name": "Utsav"
        },
        "errors": {},
        "warnings": {},
        "options": {}
    }
}
```

